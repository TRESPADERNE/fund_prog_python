
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matplotlib. Visualización de gráficos. &#8212; Fundamentos de Programación en Python</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Fundamentos de Programación en Python</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../0_Python/Introduccion_Python.html">
   Introducción a Python
  </a>
 </li>
</ul>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Expresiones_operadores_y_tipos_de_datos/Expresiones_operadores_y_tipos_de_datos.html">
   Operadores, expresiones y tipos de datos
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/notebooks/XX_Matplotlib/Matplotlib.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://https://github.com/TRESPADERNE/fund_prog_python"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://https://github.com/TRESPADERNE/fund_prog_python/issues/new?title=Issue%20on%20page%20%2Fnotebooks/XX_Matplotlib/Matplotlib.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/TRESPADERNE/fund_prog_python/master?urlpath=tree/notebooks/XX_Matplotlib/Matplotlib.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Matplotlib. Visualización de gráficos.
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduccion">
   Introducción
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#motores-graficos">
     Motores gráficos
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creacion-de-una-ventana-grafica">
     Creación de una ventana gráfica
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#valores-indefinidos-en-la-lista-de-ordenadas">
       Valores indefinidos en la lista de ordenadas
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exportando-las-figuras">
     Exportando las figuras
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Motores gráficos
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ipympl">
     ipympl
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gtk-and-cairo">
     GTK and Cairo
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-select-pyqt4-or-pyside">
     How do I select PyQt4 or PySide?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-interactive-mode">
   What is interactive mode?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interactive-example">
     Interactive example
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#non-interactive-example">
     Non-interactive example
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#summary">
     Summary
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#class-matplotlib-axes-axes">
     :class:
     <code class="docutils literal notranslate">
      <span class="pre">
       ~matplotlib.axes.Axes
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#class-matplotlib-axis-axis">
     :class:
     <code class="docutils literal notranslate">
      <span class="pre">
       ~matplotlib.axis.Axis
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#class-matplotlib-artist-artist">
     :class:
     <code class="docutils literal notranslate">
      <span class="pre">
       ~matplotlib.artist.Artist
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#types-of-inputs-to-plotting-functions">
   Types of inputs to plotting functions
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib-pyplot-and-pylab-how-are-they-related">
   Matplotlib, pyplot and pylab: how are they related?
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#coding-styles">
   Coding Styles
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#backends">
   Backends
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-is-a-backend">
     What is a backend?
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     ipympl
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     GTK and Cairo
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     How do I select PyQt4 or PySide?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   What is interactive mode?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Interactive example
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     Non-interactive example
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     Summary
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#performance">
   Performance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#line-segment-simplification">
     Line segment simplification
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup-and-create-the-data-to-plot">
   Setup, and create the data to plot
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#marker-simplification">
     Marker simplification
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#splitting-lines-into-smaller-chunks">
     Splitting lines into smaller chunks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   Setup, and create the data to plot
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#legends">
     Legends
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-the-fast-style">
     Using the
     <em>
      fast
     </em>
     style
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="matplotlib-visualizacion-de-graficos">
<h1>Matplotlib. Visualización de gráficos.<a class="headerlink" href="#matplotlib-visualizacion-de-graficos" title="Permalink to this headline">¶</a></h1>
<p><strong>Autores</strong>: Rogelio Mazaeda Echevarría, Félix Miguel Trespaderne.</p>
</div>
<div class="section" id="introduccion">
<h1>Introducción<a class="headerlink" href="#introduccion" title="Permalink to this headline">¶</a></h1>
<p>El paquete <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> es una extensa biblioteca de funciones para generar gráficos 2D y 3D.</p>
<p>Algunas de sus características son:</p>
<ul class="simple">
<li><p>Curva de aprendizaje suave: ofrece funcionalidades simples para usuarios ocasionales</p></li>
<li><p>Todo tipo de ajustes <em>programables</em> de los elementos de una ventana gráfica</p></li>
<li><p>Gran variedad de formatos de exportación de las figuras</p></li>
</ul>
<p>Dentro del <strong>paquete</strong> <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> destaca el <strong>módulo</strong> <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>.
Este módulo <strong>oculta</strong> muchas de las funcionalidades de bajo nivel de la bilioteca permitiendo el
uso de sencillas funciones para los elementos gráficos más habituales, creación de figuras, trazado de líneas, visualización de imágenes, inserción de texto, etc.</p>
<p>De hecho, este módulo emula el entorno de programación gráfica de <strong>MATLAB</strong>, herrramienta software de pago muy popular en universidades y empresas.</p>
<p>Para comenzar usando el módulo <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>de <strong>Matplotlib</strong> en un programa <strong>Python</strong> la forma estándar es:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Matplotlib</strong> está construido sobre el paquete <strong>Numpy</strong> y trabaja de forma natural con los vectores y matrices (<em>arrays</em>) a ella asociados. No obstante, podemos trabajar con listas, que serán transformadas internamente a <em>numpy arrays</em>.</p>
<p>Para información detallada consultad la página web de <a class="reference external" href="http://matplotlib.org/"><strong>Matplotlib</strong></a>.</p>
<div class="section" id="motores-graficos">
<h2>Motores gráficos<a class="headerlink" href="#motores-graficos" title="Permalink to this headline">¶</a></h2>
<p>Para los nuevos usuarios (y no tan nuevos), <strong>Matplotlib</strong> tiene aspectos que pueden ser confusos
debido a que la panoplia de casos de uso y formatos de salida es tal, que puede parecer que nos adentramos en una jungla pantanosa.</p>
<p>Así, tenemos:</p>
<ul class="simple">
<li><p>Gráficos mostrados según se introducen los comandos</p></li>
<li><p>Ventanas con herramientas interactivas</p></li>
<li><p>Aplicaciones con interfaces de usuario donde los gráficos se muestran de forma integrada</p></li>
<li><p>Archivos de procesamiento por lotes (<em>scripts</em>) que generan ficheros con los gráficos en los más diversos formatos de salida</p></li>
</ul>
<p>El soporte <em>detrás del escenario</em> a todas estas alternativas se realiza disponiendo de diferentes <strong>motores gráficos</strong> (<strong>backends</strong>).</p>
<p>Para hacernos una idea de los motores disponibles en <strong>IPython</strong> (no necesariamente <em>instalados</em>), basta invocar el siguiente <em>comando mágico</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> --list
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Available matplotlib backends: [&#39;tk&#39;, &#39;gtk&#39;, &#39;gtk3&#39;, &#39;wx&#39;, &#39;qt4&#39;, &#39;qt5&#39;, &#39;qt&#39;, &#39;osx&#39;, &#39;nbagg&#39;, &#39;notebook&#39;, &#39;agg&#39;, &#39;svg&#39;, &#39;pdf&#39;, &#39;ps&#39;, &#39;inline&#39;, &#39;ipympl&#39;, &#39;widget&#39;]
</pre></div>
</div>
</div>
</div>
<p>Por defecto, en <strong>IPython</strong> tenemos el motor <code class="docutils literal notranslate"><span class="pre">inline</span></code>, que muestra integradas las figuras de forma <strong>estática</strong> en el <strong>notebook</strong> o la <strong>consola</strong>.</p>
<p>Si deseamos interactuar con la ventana gráfica podemos optar por el motor <code class="docutils literal notranslate"><span class="pre">notebook</span></code>. Un motor como <code class="docutils literal notranslate"><span class="pre">qt</span></code> nos abrirá una ventana gráfica de forma externa a <strong>IPython</strong>.</p>
<p>Los motores pueden ser activados con el comado mágico:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">motor</span>
</pre></div>
</div>
<p>Típicamente el motor debe configurarse <strong>¡antes de importar <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>!</strong>. Además, cambiar en la misma sesión entre algunos motores forma dinámica puede ser problemático y está fuera del propósito de este curso.</p>
</div>
<div class="section" id="creacion-de-una-ventana-grafica">
<h2>Creación de una ventana gráfica<a class="headerlink" href="#creacion-de-una-ventana-grafica" title="Permalink to this headline">¶</a></h2>
<p>Una ventana gráfica se crea a través de la función <code class="docutils literal notranslate"><span class="pre">figure()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 432x288 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<p>Nótese que con el motor por defecto <code class="docutils literal notranslate"><span class="pre">inline</span></code> no se muestra ninguna ventana en el documento. Sin embargo, si el motor hubiese sido <code class="docutils literal notranslate"><span class="pre">qt</span></code>, tendríamos una ventana vacía externa al documento:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> qt
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Mediante la función <code class="docutils literal notranslate"><span class="pre">plot()</span></code> suministramos una lista (o <code class="docutils literal notranslate"><span class="pre">numpy</span></code> <em>array</em>) para su trazado.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Volvemos al motor inline</span>
<span class="o">%</span><span class="k">matplotlib</span> inline 

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x214ee9155c8&gt;]
</pre></div>
</div>
<img alt="../../_images/Matplotlib_13_1.png" src="../../_images/Matplotlib_13_1.png" />
</div>
</div>
<p>Por defecto, <code class="docutils literal notranslate"><span class="pre">plot()</span></code> une con una línea los puntos de coordenadas <span class="math notranslate nohighlight">\((i,lista[i])\)</span>, siendo <span class="math notranslate nohighlight">\(i\)</span> los índices válidos de la lista desde <span class="math notranslate nohighlight">\(0\)</span>. En nuestro ejemplo, los puntos <span class="math notranslate nohighlight">\({(0,0),(1,1),(2,5),(3,6),...,(3,9)}\)</span>.</p>
<p>Debe notarse que si no hubiésemos invocado a la función <code class="docutils literal notranslate"><span class="pre">figure()</span></code> se hubiese creado una de forma automática para contener el dibujo.</p>
<p>La función <code class="docutils literal notranslate"><span class="pre">plot()</span></code> crea un objeto tipo <code class="docutils literal notranslate"><span class="pre">axes</span></code> que contiene la mayor parte de los elementos susceptibles de ser mostrados en una ventana gráfica. En ausencia de indicaciones, el objeto <code class="docutils literal notranslate"><span class="pre">axes</span></code> elige diferentes opciones por defecto, como tamaño, color de la línea, etc.</p>
<p>Por defecto, en <strong>IPython</strong> tenemos el motor <code class="docutils literal notranslate"><span class="pre">inline</span></code>, que muestra integradas las figuras de forma <strong>estática</strong> en el <strong>notebook</strong> o la <strong>consola</strong>.</p>
<p>Si deseamos interactuar con la ventana gráfica, podemos optar por el motor `notebook’.</p>
<div class="section" id="valores-indefinidos-en-la-lista-de-ordenadas">
<h3>Valores indefinidos en la lista de ordenadas<a class="headerlink" href="#valores-indefinidos-en-la-lista-de-ordenadas" title="Permalink to this headline">¶</a></h3>
<p>La función <strong>seno cardinal</strong> desnormalizada <span class="math notranslate nohighlight">\(sinc(x)\)</span> tiene por ecuación:</p>
<div class="math notranslate nohighlight">
\[y = \frac{sin(x)}{x}\]</div>
<p>Es fácil ver que, en la abcisa <span class="math notranslate nohighlight">\(x=0\)</span>, la función presenta una singularidad evitable (que sabemos por la teoría de límites del cálculo que tiene el valor 1).</p>
<p>Sin embargo, cuando en un programa generamos los posibles valores de una función, no siempre el código está <em>sintonizado</em> para detectar estas singularidades. La respuesta en muchos lenguajes es generar un valor <code class="docutils literal notranslate"><span class="pre">float</span></code> especial, <code class="docutils literal notranslate"><span class="pre">nan</span></code>, <strong>not a number</strong>. Recordad que la precisión y número de valores representables en un ordenador es finito.</p>
<p>Veamos que ocurre si intentamos dibujar la función <strong>seno cardinal</strong>. Para ello, vamos a elegir <span class="math notranslate nohighlight">\(1000\)</span> puntos en el intervalo <span class="math notranslate nohighlight">\(-15\leq x\leq15\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_puntos</span> <span class="o">=</span> <span class="mi">301</span>
<span class="n">x_min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">15</span>
<span class="n">x_max</span> <span class="o">=</span> <span class="o">-</span><span class="n">x_min</span>
<span class="n">incremento</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_max</span> <span class="o">-</span> <span class="n">x_min</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">num_puntos</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># Hay (num_puntos - 1) intervalos incluyendo x_min y x_max</span>

<span class="n">lista_x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_puntos</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x_min</span> <span class="o">+</span> <span class="n">i</span><span class="o">*</span><span class="n">incremento</span>
    <span class="n">lista_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">lista_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lista_x</span><span class="p">]</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lista_x</span><span class="p">,</span><span class="n">lista_y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="mi">5</span><span class="n">f084ff8e500</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">lista_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> 
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="n">lista_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lista_x</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> 
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lista_x</span><span class="p">,</span><span class="n">lista_y</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-6-5f084ff8e500&gt;</span> in <span class="ni">&lt;listcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">lista_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> 
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="n">lista_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lista_x</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> 
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lista_x</span><span class="p">,</span><span class="n">lista_y</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;math&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="exportando-las-figuras">
<h2>Exportando las figuras<a class="headerlink" href="#exportando-las-figuras" title="Permalink to this headline">¶</a></h2>
<p>La función <code class="docutils literal notranslate"><span class="pre">savefig()</span></code> permite guardar en un archivo la gráfica generada. Como el resto de funciones que hemos vistas, dispone de múltiples parámetros de configuración. La forma más sencilla de usarla es simplemente indicar el nombre del archivo con la extensión acorde con el formato deseado.</p>
<div class="section" id="id1">
<h3>Motores gráficos<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Para los nuevos usuarios, <strong>Matplotlib</strong> tiene aspectos que pueden ser confusos
debido a que la panoplia de casos de uso y formatos de salida es tal, que puede parecer que nos adentramos en una jungla pantanosa.</p>
<p>Así, tenemos:</p>
<ul class="simple">
<li><p>Gráficos generados de forma interactiva de forma que desean que se visualicen los gráficos según se introducen los comandos o se ejecutan en línea como es el caso de los <em>notebooks</em></p></li>
<li><p>Usuarios que diseñan aplicaciones con interfaces de usuario donde los gráficos se muestran de forma integrada</p></li>
<li><p>Archivos de procesamiento por lotes (<em>scripts</em>) que generan ficheros con los gráficos en los más diversos formatos de salida</p></li>
</ul>
<p>El soporte <em>detrás del escenario</em> a todas estas alternativas se realiza a través de diferentes <strong>motores gráficos</strong> (<strong>backends</strong>).</p>
<p>Para hacernos una idea de los motores disponibles, basta invocar el sigueinte comando mágico de <strong>IPython</strong>:</p>
<p>En nuestro caso, no tendremos problemas al respecto. Sin embargo, si lo que deseamos hacer con los gráficos requiere del uso de diferentes motores que entran en conflicto entre sí, entonces deberemos optar por configurar correctamente qúe motor se usa en cada caso. la mayoría de los casos,  eligiendo To support all of these use cases, matplotlib can target different
outputs, and each of these capabilities is called a backend; the
“frontend” is the user facing code, i.e., the plotting code, whereas the
“backend” does all the hard work behind-the-scenes to make the figure.
There are two types of backends: user interface backends (for use in
pygtk, wxpython, tkinter, qt4, or macosx; also referred to as
“interactive backends”) and hardcopy backends to make image files
(PNG, SVG, PDF, PS; also referred to as “non-interactive backends”).</p>
<p>There are four ways to configure your backend. If they conflict each other,
the method mentioned last in the following list will be used, e.g. calling
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use()</span></code> will override the setting in your <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>.</p>
<p>#. The <code class="docutils literal notranslate"><span class="pre">backend</span></code> parameter in your <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file (see
:doc:<code class="docutils literal notranslate"><span class="pre">/tutorials/introductory/customizing</span></code>)::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   backend : WXAgg   # use wxpython with antigrain (agg) rendering
</pre></div>
</div>
<p>#. Setting the :envvar:<code class="docutils literal notranslate"><span class="pre">MPLBACKEND</span></code> environment variable, either for your
current shell or for a single script.  On Unix::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    &gt; export MPLBACKEND=module://my_backend
    &gt; python simple_plot.py

    &gt; MPLBACKEND=&quot;module://my_backend&quot; python simple_plot.py
</pre></div>
</div>
<p>On Windows, only the former is possible::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    &gt; set MPLBACKEND=module://my_backend
    &gt; python simple_plot.py
</pre></div>
</div>
<p>Setting this environment variable will override the <code class="docutils literal notranslate"><span class="pre">backend</span></code> parameter
in <em>any</em> <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>, even if there is a <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> in your
current working directory. Therefore setting :envvar:<code class="docutils literal notranslate"><span class="pre">MPLBACKEND</span></code>
globally, e.g. in your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> or <code class="docutils literal notranslate"><span class="pre">.profile</span></code>, is discouraged as it
might lead to counter-intuitive behavior.</p>
<p>#. If your script depends on a specific backend you can use the
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> function::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  import matplotlib
  matplotlib.use(&#39;PS&#39;)   # generate postscript output by default
</pre></div>
</div>
<p>If you use the :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> function, this must be done before
importing :mod:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code>. Calling :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> after
pyplot has been imported will have no effect.  Using
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> will require changes in your code if users want to
use a different backend.  Therefore, you should avoid explicitly calling
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> unless absolutely necessary.</p>
<div class="alert alert-info"><h4>Note</h4><p>Backend name specifications are not case-sensitive; e.g., 'GTK3Agg'
   and 'gtk3agg' are equivalent.</p></div>
<p>With a typical installation of matplotlib, such as from a
binary installer or a linux distribution package, a good default
backend will already be set, allowing both interactive work and
plotting from scripts, with output to the screen and/or to
a file, so at least initially you will not need to use any of the
methods given above.</p>
<p>If, however, you want to write graphical user interfaces, or a web
application server (<code class="docutils literal notranslate"><span class="pre">howto-webapp</span></code>), or need a better
understanding of what is going on, read on. To make things a little
more customizable for graphical user interfaces, matplotlib separates
the concept of the renderer (the thing that actually does the drawing)
from the canvas (the place where the drawing goes).  The canonical
renderer for user interfaces is <code class="docutils literal notranslate"><span class="pre">Agg</span></code> which uses the <code class="docutils literal notranslate"><span class="pre">Anti-Grain</span> <span class="pre">Geometry</span></code>_ C++ library to make a raster (pixel) image of the figure.
All of the user interfaces except <code class="docutils literal notranslate"><span class="pre">macosx</span></code> can be used with
agg rendering, e.g., <code class="docutils literal notranslate"><span class="pre">WXAgg</span></code>, <code class="docutils literal notranslate"><span class="pre">GTK3Agg</span></code>, <code class="docutils literal notranslate"><span class="pre">QT4Agg</span></code>, <code class="docutils literal notranslate"><span class="pre">QT5Agg</span></code>,
<code class="docutils literal notranslate"><span class="pre">TkAgg</span></code>.  In addition, some of the user interfaces support other rendering
engines.  For example, with GTK+ 3, you can also select Cairo rendering
(backend <code class="docutils literal notranslate"><span class="pre">GTK3Cairo</span></code>).</p>
<p>For the rendering engines, one can also distinguish between <code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">&lt;https://en.wikipedia.org/wiki/Vector_graphics&gt;</span></code>_ or <code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">&lt;https://en.wikipedia.org/wiki/Raster_graphics&gt;</span></code>_ renderers.  Vector
graphics languages issue drawing commands like “draw a line from this
point to this point” and hence are scale free, and raster backends
generate a pixel representation of the line whose accuracy depends on a
DPI setting.</p>
<p>Here is a summary of the matplotlib renderers (there is an eponymous
backend for each; these are <em>non-interactive backends</em>, capable of
writing to a file):</p>
<p>=============   ============   ================================================
Renderer        Filetypes      Description
=============   ============   ================================================
:term:<code class="docutils literal notranslate"><span class="pre">AGG</span></code>     :term:<code class="docutils literal notranslate"><span class="pre">png</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">graphics</span></code> – high quality images
using the <code class="docutils literal notranslate"><span class="pre">Anti-Grain</span> <span class="pre">Geometry</span></code>_ engine
PS              :term:<code class="docutils literal notranslate"><span class="pre">ps</span></code>     :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> – Postscript_ output
:term:<code class="docutils literal notranslate"><span class="pre">eps</span></code>
PDF             :term:<code class="docutils literal notranslate"><span class="pre">pdf</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> –
<code class="docutils literal notranslate"><span class="pre">Portable</span> <span class="pre">Document</span> <span class="pre">Format</span></code>_
SVG             :term:<code class="docutils literal notranslate"><span class="pre">svg</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> –
<code class="docutils literal notranslate"><span class="pre">Scalable</span> <span class="pre">Vector</span> <span class="pre">Graphics</span></code>_
:term:<code class="docutils literal notranslate"><span class="pre">Cairo</span></code>   :term:<code class="docutils literal notranslate"><span class="pre">png</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">graphics</span></code> and
:term:<code class="docutils literal notranslate"><span class="pre">ps</span></code>     :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> – using the
:term:<code class="docutils literal notranslate"><span class="pre">pdf</span></code>    <code class="docutils literal notranslate"><span class="pre">Cairo</span> <span class="pre">graphics</span></code>_ library
:term:<code class="docutils literal notranslate"><span class="pre">svg</span></code>
=============   ============   ================================================</p>
<p>And here are the user interfaces and renderer combinations supported;
these are <em>interactive backends</em>, capable of displaying to the screen
and of using appropriate renderers from the table above to write to
a file:</p>
<p>========= ================================================================
Backend   Description
========= ================================================================
Qt5Agg    Agg rendering in a :term:<code class="docutils literal notranslate"><span class="pre">Qt5</span></code> canvas (requires PyQt5_).  This
backend can be activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">qt5</span></code>.
ipympl    Agg rendering embedded in a Jupyter widget.  (requires ipympl).
This backend can be enabled in a Jupyter notebook with
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">ipympl</span></code>.
GTK3Agg   Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">GTK</span></code> 3.x canvas (requires PyGObject_,
and pycairo_ or cairocffi_).  This backend can be activated in
IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">gtk3</span></code>.
macosx    Agg rendering into a Cocoa canvas in OSX.  This backend can be
activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">osx</span></code>.
TkAgg     Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">Tk</span></code> canvas (requires TkInter_). This
backend can be activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">tk</span></code>.
nbAgg     Embed an interactive figure in a Jupyter classic notebook.  This
backend can be enabled in Jupyter notebooks via
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">notebook</span></code>.
WebAgg    On <code class="docutils literal notranslate"><span class="pre">show()</span></code> will start a tornado server with an interactive
figure.
GTK3Cairo Cairo rendering to a :term:<code class="docutils literal notranslate"><span class="pre">GTK</span></code> 3.x canvas (requires PyGObject_,
and pycairo_ or cairocffi_).
Qt4Agg    Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">Qt4</span></code> canvas (requires PyQt4_ or
<code class="docutils literal notranslate"><span class="pre">pyside</span></code>).  This backend can be activated in IPython with
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">qt4</span></code>.
WXAgg     Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">wxWidgets</span></code> canvas (requires wxPython_ 4).
This backend can be activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">wx</span></code>.
========= ================================================================</p>
</div>
</div>
<div class="section" id="ipympl">
<h2>ipympl<a class="headerlink" href="#ipympl" title="Permalink to this headline">¶</a></h2>
<p>The Jupyter widget ecosystem is moving too fast to support directly in
Matplotlib.  To install ipympl</p>
<p>.. code-block:: bash</p>
<p>pip install ipympl
jupyter nbextension enable –py –sys-prefix ipympl</p>
<p>or</p>
<p>.. code-block:: bash</p>
<p>conda install ipympl -c conda-forge</p>
<p>See <code class="docutils literal notranslate"><span class="pre">jupyter-matplotlib</span> <span class="pre">&lt;https://github.com/matplotlib/jupyter-matplotlib&gt;</span></code>__
for more details.</p>
</div>
<div class="section" id="gtk-and-cairo">
<h2>GTK and Cairo<a class="headerlink" href="#gtk-and-cairo" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GTK3</span></code> backends (<em>both</em> <code class="docutils literal notranslate"><span class="pre">GTK3Agg</span></code> and <code class="docutils literal notranslate"><span class="pre">GTK3Cairo</span></code>) depend on Cairo
(pycairo&gt;=1.11.0 or cairocffi).</p>
</div>
<div class="section" id="how-do-i-select-pyqt4-or-pyside">
<h2>How do I select PyQt4 or PySide?<a class="headerlink" href="#how-do-i-select-pyqt4-or-pyside" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">QT_API</span></code> environment variable can be set to either <code class="docutils literal notranslate"><span class="pre">pyqt</span></code> or <code class="docutils literal notranslate"><span class="pre">pyside</span></code>
to use <code class="docutils literal notranslate"><span class="pre">PyQt4</span></code> or <code class="docutils literal notranslate"><span class="pre">PySide</span></code>, respectively.</p>
<p>Since the default value for the bindings to be used is <code class="docutils literal notranslate"><span class="pre">PyQt4</span></code>,
:mod:<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> first tries to import it, if the import fails, it tries to
import <code class="docutils literal notranslate"><span class="pre">PySide</span></code>.</p>
</div>
</div>
<div class="section" id="what-is-interactive-mode">
<h1>What is interactive mode?<a class="headerlink" href="#what-is-interactive-mode" title="Permalink to this headline">¶</a></h1>
<p>Use of an interactive backend (see <code class="docutils literal notranslate"><span class="pre">what-is-a-backend</span></code>)
permits–but does not by itself require or ensure–plotting
to the screen.  Whether and when plotting to the screen occurs,
and whether a script or shell session continues after a plot
is drawn on the screen, depends on the functions and methods
that are called, and on a state variable that determines whether
matplotlib is in “interactive mode”.  The default Boolean value is set
by the :file:<code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file, and may be customized like any other
configuration parameter (see :doc:<code class="docutils literal notranslate"><span class="pre">/tutorials/introductory/customizing</span></code>).  It
may also be set via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.interactive</span></code>, and its
value may be queried via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.is_interactive</span></code>.  Turning
interactive mode on and off in the middle of a stream of plotting
commands, whether in a script or in a shell, is rarely needed
and potentially confusing, so in the following we will assume all
plotting is done with interactive mode either on or off.</p>
<div class="alert alert-info"><h4>Note</h4><p>Major changes related to interactivity, and in particular the
   role and behavior of :func:`~matplotlib.pyplot.show`, were made in the
   transition to matplotlib version 1.0, and bugs were fixed in
   1.0.1.  Here we describe the version 1.0.1 behavior for the
   primary interactive backends, with the partial exception of
   *macosx*.</p></div>
<p>Interactive mode may also be turned on via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.ion</span></code>,
and turned off via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.ioff</span></code>.</p>
<div class="alert alert-info"><h4>Note</h4><p>Interactive mode works with suitable backends in ipython and in
   the ordinary python shell, but it does *not* work in the IDLE IDE.
   If the default backend does not support interactivity, an interactive
   backend can be explicitly activated using any of the methods discussed in `What is a backend?`_.</p></div>
<div class="section" id="interactive-example">
<h2>Interactive example<a class="headerlink" href="#interactive-example" title="Permalink to this headline">¶</a></h2>
<p>From an ordinary python prompt, or after invoking ipython with no options,
try this::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
plt.ion()
plt.plot([1.6, 2.7])
</pre></div>
</div>
<p>Assuming you are running version 1.0.1 or higher, and you have
an interactive backend installed and selected by default, you should
see a plot, and your terminal prompt should also be active; you
can type additional commands such as::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.title(&quot;interactive test&quot;)
plt.xlabel(&quot;index&quot;)
</pre></div>
</div>
<p>and you will see the plot being updated after each line.  Since version 1.5,
modifying the plot by other means <em>should</em> also automatically
update the display on most backends. Get a reference to the :class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes</span></code> instance,
and call a method of that instance::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ax = plt.gca()
ax.plot([3.1, 2.2])
</pre></div>
</div>
<p>If you are using certain backends (like <code class="docutils literal notranslate"><span class="pre">macosx</span></code>), or an older version
of matplotlib, you may not see the new line added to the plot immediately.
In this case, you need to explicitly call :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.pyplot.draw</span></code>
in order to update the plot::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.draw()
</pre></div>
</div>
</div>
<div class="section" id="non-interactive-example">
<h2>Non-interactive example<a class="headerlink" href="#non-interactive-example" title="Permalink to this headline">¶</a></h2>
<p>Start a fresh session as in the previous example, but now
turn interactive mode off::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
plt.ioff()
plt.plot([1.6, 2.7])
</pre></div>
</div>
<p>Nothing happened–or at least nothing has shown up on the
screen (unless you are using <em>macosx</em> backend, which is
anomalous).  To make the plot appear, you need to do this::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.show()
</pre></div>
</div>
<p>Now you see the plot, but your terminal command line is
unresponsive; the :func:<code class="docutils literal notranslate"><span class="pre">show()</span></code> command <em>blocks</em> the input
of additional commands until you manually kill the plot
window.</p>
<p>What good is this–being forced to use a blocking function?
Suppose you need a script that plots the contents of a file
to the screen.  You want to look at that plot, and then end
the script.  Without some blocking command such as show(), the
script would flash up the plot and then end immediately,
leaving nothing on the screen.</p>
<p>In addition, non-interactive mode delays all drawing until
show() is called; this is more efficient than redrawing
the plot each time a line in the script adds a new feature.</p>
<p>Prior to version 1.0, show() generally could not be called
more than once in a single script (although sometimes one
could get away with it); for version 1.0.1 and above, this
restriction is lifted, so one can write a script like this::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import numpy as np
import matplotlib.pyplot as plt

plt.ioff()
for i in range(3):
    plt.plot(np.random.rand(10))
    plt.show()
</pre></div>
</div>
<p>which makes three plots, one at a time. I.e. the second plot will show up,
once the first plot is closed.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>In interactive mode, pyplot functions automatically draw
to the screen.</p>
<p>When plotting interactively, if using
object method calls in addition to pyplot functions, then
call :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.pyplot.draw</span></code> whenever you want to
refresh the plot.</p>
<p>Use non-interactive mode in scripts in which you want to
generate one or more figures and display them before ending
or generating a new set of figures.  In that case, use
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.pyplot.show</span></code> to display the figure(s) and
to block execution until you have manually destroyed them.</p>
<p>Performance</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">get_backend</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> --list
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#matplotlib.use(&#39;Qt5Agg&#39;)</span>
<span class="o">%</span><span class="k">matplotlib</span> notebook
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">get_backend</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="class-matplotlib-axes-axes">
<h2>:class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes</span></code><a class="headerlink" href="#class-matplotlib-axes-axes" title="Permalink to this headline">¶</a></h2>
<p>This is what you think of as ‘a plot’, it is the region of the image
with the data space. A given figure
can contain many Axes, but a given :class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes</span></code>
object can only be in one :class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.figure.Figure</span></code>.  The
Axes contains two (or three in the case of 3D)
:class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axis.Axis</span></code> objects (be aware of the difference
between <strong>Axes</strong> and <strong>Axis</strong>) which take care of the data limits (the
data limits can also be controlled via set via the
:meth:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes.set_xlim</span></code> and
:meth:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes.set_ylim</span></code> :class:<code class="docutils literal notranslate"><span class="pre">Axes</span></code> methods).  Each
:class:<code class="docutils literal notranslate"><span class="pre">Axes</span></code> has a title (set via
:meth:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes.set_title</span></code>), an x-label (set via
:meth:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes.set_xlabel</span></code>), and a y-label set via
:meth:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes.set_ylabel</span></code>).</p>
<p>The :class:<code class="docutils literal notranslate"><span class="pre">Axes</span></code> class and its member functions are the primary entry
point to working with the OO interface.</p>
</div>
<div class="section" id="class-matplotlib-axis-axis">
<h2>:class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axis.Axis</span></code><a class="headerlink" href="#class-matplotlib-axis-axis" title="Permalink to this headline">¶</a></h2>
<p>These are the number-line-like objects. They take
care of setting the graph limits and generating the ticks (the marks
on the axis) and ticklabels (strings labeling the ticks).  The
location of the ticks is determined by a
:class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.ticker.Locator</span></code> object and the ticklabel strings
are formatted by a :class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.ticker.Formatter</span></code>.  The
combination of the correct :class:<code class="docutils literal notranslate"><span class="pre">Locator</span></code> and :class:<code class="docutils literal notranslate"><span class="pre">Formatter</span></code> gives
very fine control over the tick locations and labels.</p>
</div>
<div class="section" id="class-matplotlib-artist-artist">
<h2>:class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.artist.Artist</span></code><a class="headerlink" href="#class-matplotlib-artist-artist" title="Permalink to this headline">¶</a></h2>
<p>Basically everything you can see on the figure is an artist (even the
:class:<code class="docutils literal notranslate"><span class="pre">Figure</span></code>, :class:<code class="docutils literal notranslate"><span class="pre">Axes</span></code>, and :class:<code class="docutils literal notranslate"><span class="pre">Axis</span></code> objects).  This
includes :class:<code class="docutils literal notranslate"><span class="pre">Text</span></code> objects, :class:<code class="docutils literal notranslate"><span class="pre">Line2D</span></code> objects,
:class:<code class="docutils literal notranslate"><span class="pre">collection</span></code> objects, :class:<code class="docutils literal notranslate"><span class="pre">Patch</span></code> objects … (you get the
idea).  When the figure is rendered, all of the artists are drawn to
the <strong>canvas</strong>.  Most Artists are tied to an Axes; such an Artist
cannot be shared by multiple Axes, or moved from one to another.</p>
</div>
</div>
<div class="section" id="types-of-inputs-to-plotting-functions">
<h1>Types of inputs to plotting functions<a class="headerlink" href="#types-of-inputs-to-plotting-functions" title="Permalink to this headline">¶</a></h1>
<p>All of plotting functions expect <code class="docutils literal notranslate"><span class="pre">np.array</span></code> or <code class="docutils literal notranslate"><span class="pre">np.ma.masked_array</span></code> as
input.  Classes that are ‘array-like’ such as <code class="docutils literal notranslate"><span class="pre">pandas</span></code> data objects
and <code class="docutils literal notranslate"><span class="pre">np.matrix</span></code> may or may not work as intended.  It is best to
convert these to <code class="docutils literal notranslate"><span class="pre">np.array</span></code> objects prior to plotting.</p>
<p>For example, to convert a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> ::</p>
<p>a = pandas.DataFrame(np.random.rand(4,5), columns = list(‘abcde’))
a_asarray = a.values</p>
<p>and to convert a <code class="docutils literal notranslate"><span class="pre">np.matrix</span></code> ::</p>
<p>b = np.matrix([[1,2],[3,4]])
b_asarray = np.asarray(b)</p>
</div>
<div class="section" id="matplotlib-pyplot-and-pylab-how-are-they-related">
<h1>Matplotlib, pyplot and pylab: how are they related?<a class="headerlink" href="#matplotlib-pyplot-and-pylab-how-are-they-related" title="Permalink to this headline">¶</a></h1>
<p>Matplotlib is the whole package and :mod:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> is a module in
Matplotlib.</p>
<p>For functions in the pyplot module, there is always a “current” figure and
axes (which is created automatically on request).  For example, in the
following example, the first call to <code class="docutils literal notranslate"><span class="pre">plt.plot</span></code> creates the axes, then
subsequent calls to <code class="docutils literal notranslate"><span class="pre">plt.plot</span></code> add additional lines on the same axes, and
<code class="docutils literal notranslate"><span class="pre">plt.xlabel</span></code>, <code class="docutils literal notranslate"><span class="pre">plt.ylabel</span></code>, <code class="docutils literal notranslate"><span class="pre">plt.title</span></code> and <code class="docutils literal notranslate"><span class="pre">plt.legend</span></code> set the
axes labels and title and add a legend.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;quadratic&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cubic&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x label&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y label&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Simple Plot&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>:mod:<code class="docutils literal notranslate"><span class="pre">pylab</span></code> is a convenience module that bulk imports
:mod:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> (for plotting) and :mod:<code class="docutils literal notranslate"><span class="pre">numpy</span></code>
(for mathematics and working with arrays) in a single namespace.
pylab is deprecated and its use is strongly discouraged because
of namespace pollution. Use pyplot instead.</p>
<p>For non-interactive plotting it is suggested
to use pyplot to create the figures and then the OO interface for
plotting.</p>
</div>
<div class="section" id="coding-styles">
<h1>Coding Styles<a class="headerlink" href="#coding-styles" title="Permalink to this headline">¶</a></h1>
<p>When viewing this documentation and examples, you will find different
coding styles and usage patterns. These styles are perfectly valid
and have their pros and cons. Just about all of the examples can be
converted into another style and achieve the same results.
The only caveat is to avoid mixing the coding styles for your own code.</p>
<div class="alert alert-info"><h4>Note</h4><p>Developers for matplotlib have to follow a specific style and guidelines.
   See `developers-guide-index`.</p></div>
<p>Of the different styles, there are two that are officially supported.
Therefore, these are the preferred ways to use matplotlib.</p>
<p>For the pyplot style, the imports at the top of your
scripts will typically be::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
import numpy as np
</pre></div>
</div>
<p>Then one calls, for example, np.arange, np.zeros, np.pi, plt.figure,
plt.plot, plt.show, etc.  Use the pyplot interface
for creating figures, and then use the object methods for the rest:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>So, why all the extra typing instead of the MATLAB-style (which relies
on global state and a flat namespace)?  For very simple things like
this example, the only advantage is academic: the wordier styles are
more explicit, more clear as to where things come from and what is
going on.  For more complicated applications, this explicitness and
clarity becomes increasingly valuable, and the richer and more
complete object-oriented interface will likely make the program easier
to write and maintain.</p>
<p>Typically one finds oneself making the same plots over and over
again, but with different data sets, which leads to needing to write
specialized functions to do the plotting.  The recommended function
signature is something like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_plotter</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="n">param_dict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A helper function to make a graph</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    ax : Axes</span>
<span class="sd">        The axes to draw to</span>

<span class="sd">    data1 : array</span>
<span class="sd">       The x data</span>

<span class="sd">    data2 : array</span>
<span class="sd">       The y data</span>

<span class="sd">    param_dict : dict</span>
<span class="sd">       Dictionary of kwargs to pass to ax.plot</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    out : list</span>
<span class="sd">        list of artists added</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="o">**</span><span class="n">param_dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="c1"># which you would then use as:</span>

<span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="n">data3</span><span class="p">,</span> <span class="n">data4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">my_plotter</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<p>or if you wanted to have 2 sub-plots:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">my_plotter</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">})</span>
<span class="n">my_plotter</span><span class="p">(</span><span class="n">ax2</span><span class="p">,</span> <span class="n">data3</span><span class="p">,</span> <span class="n">data4</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<p>Again, for these simple examples this style seems like overkill, however
once the graphs get slightly more complex it pays off.</p>
</div>
<div class="section" id="backends">
<h1>Backends<a class="headerlink" href="#backends" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-a-backend">
<h2>What is a backend?<a class="headerlink" href="#what-is-a-backend" title="Permalink to this headline">¶</a></h2>
<p>A lot of documentation on the website and in the mailing lists refers
to the “backend” and many new users are confused by this term.
matplotlib targets many different use cases and output formats.  Some
people use matplotlib interactively from the python shell and have
plotting windows pop up when they type commands.  Some people run
<code class="docutils literal notranslate"><span class="pre">Jupyter</span> <span class="pre">&lt;https://jupyter.org&gt;</span></code>_ notebooks and draw inline plots for
quick data analysis. Others embed matplotlib into graphical user
interfaces like wxpython or pygtk to build rich applications.  Some
people use matplotlib in batch scripts to generate postscript images
from numerical simulations, and still others run web application
servers to dynamically serve up graphs.</p>
<p>To support all of these use cases, matplotlib can target different
outputs, and each of these capabilities is called a backend; the
“frontend” is the user facing code, i.e., the plotting code, whereas the
“backend” does all the hard work behind-the-scenes to make the figure.
There are two types of backends: user interface backends (for use in
pygtk, wxpython, tkinter, qt4, or macosx; also referred to as
“interactive backends”) and hardcopy backends to make image files
(PNG, SVG, PDF, PS; also referred to as “non-interactive backends”).</p>
<p>There are four ways to configure your backend. If they conflict each other,
the method mentioned last in the following list will be used, e.g. calling
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use()</span></code> will override the setting in your <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>.</p>
<p>#. The <code class="docutils literal notranslate"><span class="pre">backend</span></code> parameter in your <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file (see
:doc:<code class="docutils literal notranslate"><span class="pre">/tutorials/introductory/customizing</span></code>)::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   backend : WXAgg   # use wxpython with antigrain (agg) rendering
</pre></div>
</div>
<p>#. Setting the :envvar:<code class="docutils literal notranslate"><span class="pre">MPLBACKEND</span></code> environment variable, either for your
current shell or for a single script.  On Unix::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    &gt; export MPLBACKEND=module://my_backend
    &gt; python simple_plot.py

    &gt; MPLBACKEND=&quot;module://my_backend&quot; python simple_plot.py
</pre></div>
</div>
<p>On Windows, only the former is possible::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    &gt; set MPLBACKEND=module://my_backend
    &gt; python simple_plot.py
</pre></div>
</div>
<p>Setting this environment variable will override the <code class="docutils literal notranslate"><span class="pre">backend</span></code> parameter
in <em>any</em> <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>, even if there is a <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> in your
current working directory. Therefore setting :envvar:<code class="docutils literal notranslate"><span class="pre">MPLBACKEND</span></code>
globally, e.g. in your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> or <code class="docutils literal notranslate"><span class="pre">.profile</span></code>, is discouraged as it
might lead to counter-intuitive behavior.</p>
<p>#. If your script depends on a specific backend you can use the
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> function::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  import matplotlib
  matplotlib.use(&#39;PS&#39;)   # generate postscript output by default
</pre></div>
</div>
<p>If you use the :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> function, this must be done before
importing :mod:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code>. Calling :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> after
pyplot has been imported will have no effect.  Using
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> will require changes in your code if users want to
use a different backend.  Therefore, you should avoid explicitly calling
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.use</span></code> unless absolutely necessary.</p>
<div class="alert alert-info"><h4>Note</h4><p>Backend name specifications are not case-sensitive; e.g., 'GTK3Agg'
   and 'gtk3agg' are equivalent.</p></div>
<p>With a typical installation of matplotlib, such as from a
binary installer or a linux distribution package, a good default
backend will already be set, allowing both interactive work and
plotting from scripts, with output to the screen and/or to
a file, so at least initially you will not need to use any of the
methods given above.</p>
<p>If, however, you want to write graphical user interfaces, or a web
application server (<code class="docutils literal notranslate"><span class="pre">howto-webapp</span></code>), or need a better
understanding of what is going on, read on. To make things a little
more customizable for graphical user interfaces, matplotlib separates
the concept of the renderer (the thing that actually does the drawing)
from the canvas (the place where the drawing goes).  The canonical
renderer for user interfaces is <code class="docutils literal notranslate"><span class="pre">Agg</span></code> which uses the <code class="docutils literal notranslate"><span class="pre">Anti-Grain</span> <span class="pre">Geometry</span></code>_ C++ library to make a raster (pixel) image of the figure.
All of the user interfaces except <code class="docutils literal notranslate"><span class="pre">macosx</span></code> can be used with
agg rendering, e.g., <code class="docutils literal notranslate"><span class="pre">WXAgg</span></code>, <code class="docutils literal notranslate"><span class="pre">GTK3Agg</span></code>, <code class="docutils literal notranslate"><span class="pre">QT4Agg</span></code>, <code class="docutils literal notranslate"><span class="pre">QT5Agg</span></code>,
<code class="docutils literal notranslate"><span class="pre">TkAgg</span></code>.  In addition, some of the user interfaces support other rendering
engines.  For example, with GTK+ 3, you can also select Cairo rendering
(backend <code class="docutils literal notranslate"><span class="pre">GTK3Cairo</span></code>).</p>
<p>For the rendering engines, one can also distinguish between <code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">&lt;https://en.wikipedia.org/wiki/Vector_graphics&gt;</span></code>_ or <code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">&lt;https://en.wikipedia.org/wiki/Raster_graphics&gt;</span></code>_ renderers.  Vector
graphics languages issue drawing commands like “draw a line from this
point to this point” and hence are scale free, and raster backends
generate a pixel representation of the line whose accuracy depends on a
DPI setting.</p>
<p>Here is a summary of the matplotlib renderers (there is an eponymous
backend for each; these are <em>non-interactive backends</em>, capable of
writing to a file):</p>
<p>=============   ============   ================================================
Renderer        Filetypes      Description
=============   ============   ================================================
:term:<code class="docutils literal notranslate"><span class="pre">AGG</span></code>     :term:<code class="docutils literal notranslate"><span class="pre">png</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">graphics</span></code> – high quality images
using the <code class="docutils literal notranslate"><span class="pre">Anti-Grain</span> <span class="pre">Geometry</span></code>_ engine
PS              :term:<code class="docutils literal notranslate"><span class="pre">ps</span></code>     :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> – Postscript_ output
:term:<code class="docutils literal notranslate"><span class="pre">eps</span></code>
PDF             :term:<code class="docutils literal notranslate"><span class="pre">pdf</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> –
<code class="docutils literal notranslate"><span class="pre">Portable</span> <span class="pre">Document</span> <span class="pre">Format</span></code>_
SVG             :term:<code class="docutils literal notranslate"><span class="pre">svg</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> –
<code class="docutils literal notranslate"><span class="pre">Scalable</span> <span class="pre">Vector</span> <span class="pre">Graphics</span></code>_
:term:<code class="docutils literal notranslate"><span class="pre">Cairo</span></code>   :term:<code class="docutils literal notranslate"><span class="pre">png</span></code>    :term:<code class="docutils literal notranslate"><span class="pre">raster</span> <span class="pre">graphics</span></code> and
:term:<code class="docutils literal notranslate"><span class="pre">ps</span></code>     :term:<code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">graphics</span></code> – using the
:term:<code class="docutils literal notranslate"><span class="pre">pdf</span></code>    <code class="docutils literal notranslate"><span class="pre">Cairo</span> <span class="pre">graphics</span></code>_ library
:term:<code class="docutils literal notranslate"><span class="pre">svg</span></code>
=============   ============   ================================================</p>
<p>And here are the user interfaces and renderer combinations supported;
these are <em>interactive backends</em>, capable of displaying to the screen
and of using appropriate renderers from the table above to write to
a file:</p>
<p>========= ================================================================
Backend   Description
========= ================================================================
Qt5Agg    Agg rendering in a :term:<code class="docutils literal notranslate"><span class="pre">Qt5</span></code> canvas (requires PyQt5_).  This
backend can be activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">qt5</span></code>.
ipympl    Agg rendering embedded in a Jupyter widget.  (requires ipympl).
This backend can be enabled in a Jupyter notebook with
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">ipympl</span></code>.
GTK3Agg   Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">GTK</span></code> 3.x canvas (requires PyGObject_,
and pycairo_ or cairocffi_).  This backend can be activated in
IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">gtk3</span></code>.
macosx    Agg rendering into a Cocoa canvas in OSX.  This backend can be
activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">osx</span></code>.
TkAgg     Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">Tk</span></code> canvas (requires TkInter_). This
backend can be activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">tk</span></code>.
nbAgg     Embed an interactive figure in a Jupyter classic notebook.  This
backend can be enabled in Jupyter notebooks via
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">notebook</span></code>.
WebAgg    On <code class="docutils literal notranslate"><span class="pre">show()</span></code> will start a tornado server with an interactive
figure.
GTK3Cairo Cairo rendering to a :term:<code class="docutils literal notranslate"><span class="pre">GTK</span></code> 3.x canvas (requires PyGObject_,
and pycairo_ or cairocffi_).
Qt4Agg    Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">Qt4</span></code> canvas (requires PyQt4_ or
<code class="docutils literal notranslate"><span class="pre">pyside</span></code>).  This backend can be activated in IPython with
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">qt4</span></code>.
WXAgg     Agg rendering to a :term:<code class="docutils literal notranslate"><span class="pre">wxWidgets</span></code> canvas (requires wxPython_ 4).
This backend can be activated in IPython with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">wx</span></code>.
========= ================================================================</p>
</div>
<div class="section" id="id2">
<h2>ipympl<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>The Jupyter widget ecosystem is moving too fast to support directly in
Matplotlib.  To install ipympl</p>
<p>.. code-block:: bash</p>
<p>pip install ipympl
jupyter nbextension enable –py –sys-prefix ipympl</p>
<p>or</p>
<p>.. code-block:: bash</p>
<p>conda install ipympl -c conda-forge</p>
<p>See <code class="docutils literal notranslate"><span class="pre">jupyter-matplotlib</span> <span class="pre">&lt;https://github.com/matplotlib/jupyter-matplotlib&gt;</span></code>__
for more details.</p>
</div>
<div class="section" id="id3">
<h2>GTK and Cairo<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GTK3</span></code> backends (<em>both</em> <code class="docutils literal notranslate"><span class="pre">GTK3Agg</span></code> and <code class="docutils literal notranslate"><span class="pre">GTK3Cairo</span></code>) depend on Cairo
(pycairo&gt;=1.11.0 or cairocffi).</p>
</div>
<div class="section" id="id4">
<h2>How do I select PyQt4 or PySide?<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">QT_API</span></code> environment variable can be set to either <code class="docutils literal notranslate"><span class="pre">pyqt</span></code> or <code class="docutils literal notranslate"><span class="pre">pyside</span></code>
to use <code class="docutils literal notranslate"><span class="pre">PyQt4</span></code> or <code class="docutils literal notranslate"><span class="pre">PySide</span></code>, respectively.</p>
<p>Since the default value for the bindings to be used is <code class="docutils literal notranslate"><span class="pre">PyQt4</span></code>,
:mod:<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> first tries to import it, if the import fails, it tries to
import <code class="docutils literal notranslate"><span class="pre">PySide</span></code>.</p>
</div>
</div>
<div class="section" id="id5">
<h1>What is interactive mode?<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h1>
<p>Use of an interactive backend (see <code class="docutils literal notranslate"><span class="pre">what-is-a-backend</span></code>)
permits–but does not by itself require or ensure–plotting
to the screen.  Whether and when plotting to the screen occurs,
and whether a script or shell session continues after a plot
is drawn on the screen, depends on the functions and methods
that are called, and on a state variable that determines whether
matplotlib is in “interactive mode”.  The default Boolean value is set
by the :file:<code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file, and may be customized like any other
configuration parameter (see :doc:<code class="docutils literal notranslate"><span class="pre">/tutorials/introductory/customizing</span></code>).  It
may also be set via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.interactive</span></code>, and its
value may be queried via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.is_interactive</span></code>.  Turning
interactive mode on and off in the middle of a stream of plotting
commands, whether in a script or in a shell, is rarely needed
and potentially confusing, so in the following we will assume all
plotting is done with interactive mode either on or off.</p>
<div class="alert alert-info"><h4>Note</h4><p>Major changes related to interactivity, and in particular the
   role and behavior of :func:`~matplotlib.pyplot.show`, were made in the
   transition to matplotlib version 1.0, and bugs were fixed in
   1.0.1.  Here we describe the version 1.0.1 behavior for the
   primary interactive backends, with the partial exception of
   *macosx*.</p></div>
<p>Interactive mode may also be turned on via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.ion</span></code>,
and turned off via :func:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.ioff</span></code>.</p>
<div class="alert alert-info"><h4>Note</h4><p>Interactive mode works with suitable backends in ipython and in
   the ordinary python shell, but it does *not* work in the IDLE IDE.
   If the default backend does not support interactivity, an interactive
   backend can be explicitly activated using any of the methods discussed in `What is a backend?`_.</p></div>
<div class="section" id="id6">
<h2>Interactive example<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>From an ordinary python prompt, or after invoking ipython with no options,
try this::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
plt.ion()
plt.plot([1.6, 2.7])
</pre></div>
</div>
<p>Assuming you are running version 1.0.1 or higher, and you have
an interactive backend installed and selected by default, you should
see a plot, and your terminal prompt should also be active; you
can type additional commands such as::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.title(&quot;interactive test&quot;)
plt.xlabel(&quot;index&quot;)
</pre></div>
</div>
<p>and you will see the plot being updated after each line.  Since version 1.5,
modifying the plot by other means <em>should</em> also automatically
update the display on most backends. Get a reference to the :class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.axes.Axes</span></code> instance,
and call a method of that instance::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ax = plt.gca()
ax.plot([3.1, 2.2])
</pre></div>
</div>
<p>If you are using certain backends (like <code class="docutils literal notranslate"><span class="pre">macosx</span></code>), or an older version
of matplotlib, you may not see the new line added to the plot immediately.
In this case, you need to explicitly call :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.pyplot.draw</span></code>
in order to update the plot::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.draw()
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>Non-interactive example<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Start a fresh session as in the previous example, but now
turn interactive mode off::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import matplotlib.pyplot as plt
plt.ioff()
plt.plot([1.6, 2.7])
</pre></div>
</div>
<p>Nothing happened–or at least nothing has shown up on the
screen (unless you are using <em>macosx</em> backend, which is
anomalous).  To make the plot appear, you need to do this::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>plt.show()
</pre></div>
</div>
<p>Now you see the plot, but your terminal command line is
unresponsive; the :func:<code class="docutils literal notranslate"><span class="pre">show()</span></code> command <em>blocks</em> the input
of additional commands until you manually kill the plot
window.</p>
<p>What good is this–being forced to use a blocking function?
Suppose you need a script that plots the contents of a file
to the screen.  You want to look at that plot, and then end
the script.  Without some blocking command such as show(), the
script would flash up the plot and then end immediately,
leaving nothing on the screen.</p>
<p>In addition, non-interactive mode delays all drawing until
show() is called; this is more efficient than redrawing
the plot each time a line in the script adds a new feature.</p>
<p>Prior to version 1.0, show() generally could not be called
more than once in a single script (although sometimes one
could get away with it); for version 1.0.1 and above, this
restriction is lifted, so one can write a script like this::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import numpy as np
import matplotlib.pyplot as plt

plt.ioff()
for i in range(3):
    plt.plot(np.random.rand(10))
    plt.show()
</pre></div>
</div>
<p>which makes three plots, one at a time. I.e. the second plot will show up,
once the first plot is closed.</p>
</div>
<div class="section" id="id8">
<h2>Summary<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>In interactive mode, pyplot functions automatically draw
to the screen.</p>
<p>When plotting interactively, if using
object method calls in addition to pyplot functions, then
call :func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.pyplot.draw</span></code> whenever you want to
refresh the plot.</p>
<p>Use non-interactive mode in scripts in which you want to
generate one or more figures and display them before ending
or generating a new set of figures.  In that case, use
:func:<code class="docutils literal notranslate"><span class="pre">~matplotlib.pyplot.show</span></code> to display the figure(s) and
to block execution until you have manually destroyed them.</p>
</div>
</div>
<div class="section" id="performance">
<h1>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h1>
<p>Whether exploring data in interactive mode or programmatically
saving lots of plots, rendering performance can be a painful
bottleneck in your pipeline. Matplotlib provides a couple
ways to greatly reduce rendering time at the cost of a slight
change (to a settable tolerance) in your plot’s appearance.
The methods available to reduce rendering time depend on the
type of plot that is being created.</p>
<div class="section" id="line-segment-simplification">
<h2>Line segment simplification<a class="headerlink" href="#line-segment-simplification" title="Permalink to this headline">¶</a></h2>
<p>For plots that have line segments (e.g. typical line plots,
outlines of polygons, etc.), rendering performance can be
controlled by the <code class="docutils literal notranslate"><span class="pre">path.simplify</span></code> and
<code class="docutils literal notranslate"><span class="pre">path.simplify_threshold</span></code> parameters in your
<code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file (see
:doc:<code class="docutils literal notranslate"><span class="pre">/tutorials/introductory/customizing</span></code> for
more information about the <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code> file).
The <code class="docutils literal notranslate"><span class="pre">path.simplify</span></code> parameter is a boolean indicating whether
or not line segments are simplified at all. The
<code class="docutils literal notranslate"><span class="pre">path.simplify_threshold</span></code> parameter controls how much line
segments are simplified; higher thresholds result in quicker
rendering.</p>
<p>The following script will first display the data without any
simplification, and then display the same data with simplification.
Try interacting with both of them::</p>
<p>import numpy as np
import matplotlib.pyplot as plt
import matplotlib as mpl</p>
</div>
</div>
<div class="section" id="setup-and-create-the-data-to-plot">
<h1>Setup, and create the data to plot<a class="headerlink" href="#setup-and-create-the-data-to-plot" title="Permalink to this headline">¶</a></h1>
<p>y = np.random.rand(100000)
y[50000:] *= 2
y[np.logspace(1, np.log10(50000), 400).astype(int)] = -1
mpl.rcParams[‘path.simplify’] = True</p>
<p>mpl.rcParams[‘path.simplify_threshold’] = 0.0
plt.plot(y)
plt.show()</p>
<p>mpl.rcParams[‘path.simplify_threshold’] = 1.0
plt.plot(y)
plt.show()</p>
<p>Matplotlib currently defaults to a conservative simplification
threshold of <code class="docutils literal notranslate"><span class="pre">1/9</span></code>. If you want to change your default settings
to use a different value, you can change your <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>
file.  Alternatively, you could create a new style for
interactive plotting (with maximal simplification) and another
style for publication quality plotting (with minimal
simplification) and activate them as necessary. See
:doc:<code class="docutils literal notranslate"><span class="pre">/tutorials/introductory/customizing</span></code> for
instructions on how to perform these actions.</p>
<p>The simplification works by iteratively merging line segments
into a single vector until the next line segment’s perpendicular
distance to the vector (measured in display-coordinate space)
is greater than the <code class="docutils literal notranslate"><span class="pre">path.simplify_threshold</span></code> parameter.</p>
<div class="alert alert-info"><h4>Note</h4><p>Changes related to how line segments are simplified were made
  in version 2.1. Rendering time will still be improved by these
  parameters prior to 2.1, but rendering time for some kinds of
  data will be vastly improved in versions 2.1 and greater.</p></div>
<div class="section" id="marker-simplification">
<h2>Marker simplification<a class="headerlink" href="#marker-simplification" title="Permalink to this headline">¶</a></h2>
<p>Markers can also be simplified, albeit less robustly than
line segments. Marker simplification is only available
to :class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.lines.Line2D</span></code> objects (through the
<code class="docutils literal notranslate"><span class="pre">markevery</span></code> property). Wherever
:class:<code class="docutils literal notranslate"><span class="pre">~matplotlib.lines.Line2D</span></code> construction parameters
are passed through, such as
:func:<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.plot</span></code> and
:meth:<code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.plot</span></code>, the <code class="docutils literal notranslate"><span class="pre">markevery</span></code>
parameter can be used::</p>
<p>plt.plot(x, y, markevery=10)</p>
<p>The markevery argument allows for naive subsampling, or an
attempt at evenly spaced (along the <em>x</em> axis) sampling. See the
:doc:<code class="docutils literal notranslate"><span class="pre">/gallery/lines_bars_and_markers/markevery_demo</span></code>
for more information.</p>
</div>
<div class="section" id="splitting-lines-into-smaller-chunks">
<h2>Splitting lines into smaller chunks<a class="headerlink" href="#splitting-lines-into-smaller-chunks" title="Permalink to this headline">¶</a></h2>
<p>If you are using the Agg backend (see <code class="docutils literal notranslate"><span class="pre">what-is-a-backend</span></code>),
then you can make use of the <code class="docutils literal notranslate"><span class="pre">agg.path.chunksize</span></code> rc parameter.
This allows you to specify a chunk size, and any lines with
greater than that many vertices will be split into multiple
lines, each of which has no more than <code class="docutils literal notranslate"><span class="pre">agg.path.chunksize</span></code>
many vertices. (Unless <code class="docutils literal notranslate"><span class="pre">agg.path.chunksize</span></code> is zero, in
which case there is no chunking.) For some kind of data,
chunking the line up into reasonable sizes can greatly
decrease rendering time.</p>
<p>The following script will first display the data without any
chunk size restriction, and then display the same data with
a chunk size of 10,000. The difference can best be seen when
the figures are large, try maximizing the GUI and then
interacting with them::</p>
<p>import numpy as np
import matplotlib.pyplot as plt
import matplotlib as mpl
mpl.rcParams[‘path.simplify_threshold’] = 1.0</p>
</div>
</div>
<div class="section" id="id9">
<h1>Setup, and create the data to plot<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h1>
<p>y = np.random.rand(100000)
y[50000:] *= 2
y[np.logspace(1,np.log10(50000), 400).astype(int)] = -1
mpl.rcParams[‘path.simplify’] = True</p>
<p>mpl.rcParams[‘agg.path.chunksize’] = 0
plt.plot(y)
plt.show()</p>
<p>mpl.rcParams[‘agg.path.chunksize’] = 10000
plt.plot(y)
plt.show()</p>
<div class="section" id="legends">
<h2>Legends<a class="headerlink" href="#legends" title="Permalink to this headline">¶</a></h2>
<p>The default legend behavior for axes attempts to find the location
that covers the fewest data points (<code class="docutils literal notranslate"><span class="pre">loc='best'</span></code>). This can be a
very expensive computation if there are lots of data points. In
this case, you may want to provide a specific location.</p>
</div>
<div class="section" id="using-the-fast-style">
<h2>Using the <em>fast</em> style<a class="headerlink" href="#using-the-fast-style" title="Permalink to this headline">¶</a></h2>
<p>The <em>fast</em> style can be used to automatically set
simplification and chunking parameters to reasonable
settings to speed up plotting large amounts of data.
It can be used simply by running::</p>
<p>import matplotlib.style as mplstyle
mplstyle.use(‘fast’)</p>
<p>It is very light weight, so it plays nicely with other
styles, just make sure the fast style is applied last
so that other styles do not overwrite the settings::</p>
<p>mplstyle.use([‘dark_background’, ‘ggplot’, ‘fast’])</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks\XX_Matplotlib"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Félix Miguel Trespaderne / Rogelio Mazaeda Echevarría<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>